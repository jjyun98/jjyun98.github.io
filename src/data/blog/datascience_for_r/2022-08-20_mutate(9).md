---
author: Jo YunHo
pubDatetime: 2022-08-20T10:00:00Z
modDatetime: 2025-01-17T15:00:00Z
title: R Mutate & Join ì™„ì „ì •ë³µ - ë°ì´í„° ë³€í™˜ê³¼ ê²°í•© ê¸°ë²• (9)
slug: "r-mutate-join-data-transformation"
featured: false
draft: false
tags:
  - R
  - ë°ì´í„° ë¶„ì„
  - ë°ì´í„° ì „ì²˜ë¦¬
description: "Rì˜ dplyrì„ í™œìš©í•œ ë°ì´í„° ë³€í™˜ê³¼ ê²°í•©. mutate, ë‹¤ì–‘í•œ join ê¸°ë²•, filter join, ì§‘í•© ì—°ì‚°ê¹Œì§€ ì‹¤ìŠµ ì˜ˆì œì™€ í•¨ê»˜ ì²´ê³„ì ìœ¼ë¡œ í•™ìŠµí•©ë‹ˆë‹¤."
---

> ğŸ“Œ ì°¸ê³  ìë£Œ:  
> [dplyr ê³µì‹ ë¬¸ì„œ](https://dplyr.tidyverse.org/) | [R for Data Science - Data Transformation](https://r4ds.had.co.nz/transform.html)

## Table of contents

## ê°œìš”

**ë°ì´í„° ë³€í™˜(Mutate)**ê³¼ **ë°ì´í„° ê²°í•©(Join)**ì€ ì‹¤ë¬´ ë°ì´í„° ë¶„ì„ì˜ í•µì‹¬ ê¸°ìˆ ì…ë‹ˆë‹¤. ë‹¨ì¼ í…Œì´ë¸”ì—ì„œ ìƒˆë¡œìš´ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë¶€í„° ì—¬ëŸ¬ í…Œì´ë¸”ì„ ì—°ê²°í•˜ì—¬ í†µí•© ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒê¹Œì§€, ë³µì¡í•œ ë°ì´í„° ì›Œí¬í”Œë¡œìš°ì˜ ê¸°ì´ˆê°€ ë©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” **mutateë¥¼ í™œìš©í•œ ë°ì´í„° ë³€í™˜**, **ë‹¤ì–‘í•œ join ê¸°ë²•**, **filtering joinê³¼ ì§‘í•© ì—°ì‚°**ì„ ì‹¤ìŠµ ì˜ˆì œì™€ í•¨ê»˜ ì²´ê³„ì ìœ¼ë¡œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤!

## 1. í™˜ê²½ ì„¤ì • ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ

### í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ë¡œë“œ

```r
# íŒ¨í‚¤ì§€ ë¡œë“œ
library('tidyverse')     # dplyr í¬í•¨
library('nycflights13')  # ì‹¤ìŠµ ë°ì´í„°

# í”Œë¡¯ ìµœì í™” ì„¤ì •
options(
  repr.plot.width = 8,
  repr.plot.height = 5,
  repr.plot.res = 150
)

# í…Œë§ˆ ì„¤ì •
theme_set(theme_minimal(base_size = 10))
```

## 2. ë°ì´í„° íƒìƒ‰ê³¼ ê¸°ë³¸í‚¤ í™•ì¸

### countì™€ filterë¥¼ í™œìš©í•œ ë°ì´í„° í’ˆì§ˆ ê²€ì¦

#### ê¸°ë³¸í‚¤ ì¤‘ë³µ í™•ì¸

```r
# weather ë°ì´í„°ì˜ ê¸°ë³¸í‚¤ ì¤‘ë³µ ê²€ì‚¬
weather %>%
  count(year, month, day, hour, origin) %>%
  filter(n > 1)
#   year month day hour origin n
# 1 2013    11   3    1    EWR 2
# 2 2013    11   3    1    JFK 2  
# 3 2013    11   3    1    LGA 2
```

#### flights ë°ì´í„°ì˜ ì¤‘ë³µ í•­ê³µí¸ í™•ì¸

```r
# ê°™ì€ ë‚ ì§œì— ê°™ì€ í•­ê³µí¸ ë²ˆí˜¸ê°€ ì—¬ëŸ¬ ë²ˆ ìš´í•­ë˜ëŠ” ê²½ìš°
flights %>%
  count(year, month, day, flight) %>%
  filter(n > 1) %>% head()
#   year month day flight n
# 1 2013     1   1      1 2
# 2 2013     1   1      3 2
# 3 2013     1   1      4 2
# 4 2013     1   1     11 3  # ê°™ì€ í•­ê³µí¸ì´ í•˜ë£¨ì— 3ë²ˆ!
# 5 2013     1   1     15 2
# 6 2013     1   1     21 2
```

#### ğŸ’¡ ë°ì´í„° í’ˆì§ˆ ê²€ì¦ íŒ
- **ê¸°ë³¸í‚¤ í™•ì¸**: `count() + filter(n > 1)`ë¡œ ì¤‘ë³µ ê²€ì‚¬
- **ë°ì´í„° ë¬´ê²°ì„±**: ì˜ˆìƒê³¼ ë‹¤ë¥¸ ì¤‘ë³µì´ ìˆë‹¤ë©´ ì›ì¸ íŒŒì•… í•„ìš”
- **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§**: í•­ê³µí¸ì€ í•˜ë£¨ì— ì—¬ëŸ¬ ë²ˆ ìš´í•­ ê°€ëŠ¥ (ì •ìƒ)

## 3. ë°ì´í„° ë³€í™˜ê³¼ select

### í•µì‹¬ ë³€ìˆ˜ ì„ íƒ

```r
# ë¶„ì„ì— í•„ìš”í•œ í•µì‹¬ ë³€ìˆ˜ë§Œ ì„ íƒ
flights2 <- flights %>%
  select(year:day, hour, origin, dest, tailnum, carrier)

flights2 %>% head()
#   year month day hour origin dest tailnum carrier
# 1 2013     1   1    5    EWR  IAH  N14228      UA
# 2 2013     1   1    5    LGA  IAH  N24211      UA  
# 3 2013     1   1    5    JFK  MIA  N619AA      AA
# 4 2013     1   1    5    JFK  BQN  N804JB      B6
# 5 2013     1   1    6    LGA  ATL  N668DN      DL
# 6 2013     1   1    5    EWR  ORD  N39463      UA
```

#### ğŸ“Š select íŒ¨í„´ í™œìš©ë²•

| íŒ¨í„´ | ì„¤ëª… | ì˜ˆì œ |
|------|------|------|
| `year:day` | ë²”ìœ„ ì„ íƒ | ì—°ì†ëœ ì—¬ëŸ¬ ì—´ |
| `starts_with("dep")` | ì ‘ë‘ì‚¬ | depë¡œ ì‹œì‘í•˜ëŠ” ì—´ |
| `ends_with("time")` | ì ‘ë¯¸ì‚¬ | timeìœ¼ë¡œ ëë‚˜ëŠ” ì—´ |
| `contains("delay")` | í¬í•¨ | delayë¥¼ í¬í•¨í•˜ëŠ” ì—´ |
| `-carrier` | ì œì™¸ | carrier ì—´ ì œì™¸ |

## 4. Join ê¸°ì´ˆ

### ê¸°ë³¸ í…Œì´ë¸” ì„¤ì •

```r
# ì˜ˆì œ ë°ì´í„° ìƒì„±
x <- tribble(
  ~key, ~val_x,
  1, "x1",
  2, "x2", 
  3, "x3"
)

y <- tribble(
  ~key, ~val_y,
  1, "y1",
  2, "y2",
  4, "y3"
)

x
#   key val_x
# 1   1    x1
# 2   2    x2
# 3   3    x3

y  
#   key val_y
# 1   1    y1
# 2   2    y2
# 3   4    y3
```

### inner_join - êµì§‘í•©

```r
# ì–‘ìª½ í…Œì´ë¸”ì— ëª¨ë‘ ì¡´ì¬í•˜ëŠ” í‚¤ë§Œ ìœ ì§€
x %>% inner_join(y, by = "key")
#   key val_x val_y
# 1   1    x1    y1
# 2   2    x2    y2
```

## 5. Join ìœ í˜•ë³„ ìƒì„¸ ì„¤ëª…

### ğŸ”„ Join ìœ í˜• ë¹„êµí‘œ

| Join ìœ í˜• | ì„¤ëª… | ê²°ê³¼ í–‰ ìˆ˜ | ì‚¬ìš© ìƒí™© |
|-----------|------|------------|-----------|
| **inner_join** | ì–‘ìª½ì— ëª¨ë‘ ìˆëŠ” í‚¤ë§Œ | êµì§‘í•© | ì™„ì „ ë§¤ì¹­ë§Œ í•„ìš”í•  ë•Œ |
| **left_join** | ì™¼ìª½ ê¸°ì¤€, ì˜¤ë¥¸ìª½ ë³´ì™„ | ì™¼ìª½ê³¼ ë™ì¼ | ê¸°ë³¸ í…Œì´ë¸” ìœ ì§€ |
| **right_join** | ì˜¤ë¥¸ìª½ ê¸°ì¤€, ì™¼ìª½ ë³´ì™„ | ì˜¤ë¥¸ìª½ê³¼ ë™ì¼ | ì°¸ì¡° í…Œì´ë¸” ê¸°ì¤€ |
| **full_join** | ì–‘ìª½ ëª¨ë‘ í¬í•¨ | í•©ì§‘í•© | ëª¨ë“  ë°ì´í„° ë³´ì¡´ |

### left_join ì‹¤ì „ ì˜ˆì œ

```r
# í•­ê³µì‚¬ ì •ë³´ ì¶”ê°€
flights2 %>%
  select(-origin, -dest) %>%
  left_join(airlines, by = "carrier") %>% head()
#   year month day hour tailnum carrier                    name
# 1 2013     1   1    5  N14228      UA  United Air Lines Inc.
# 2 2013     1   1    5  N24211      UA  United Air Lines Inc.
# 3 2013     1   1    5  N619AA      AA American Airlines Inc.
# 4 2013     1   1    5  N804JB      B6        JetBlue Airways
# 5 2013     1   1    6  N668DN      DL   Delta Air Lines Inc.
# 6 2013     1   1    5  N39463      UA  United Air Lines Inc.
```

### matchë¥¼ í™œìš©í•œ ìˆ˜ë™ ë§¤ì¹­

```r
# mutate + matchë¡œ joinê³¼ ê°™ì€ íš¨ê³¼
flights2 %>%
  select(-origin, -dest) %>%
  mutate(name = airlines$name[match(carrier, airlines$carrier)]) %>% head()
#   year month day hour tailnum carrier                    name
# 1 2013     1   1    5  N14228      UA  United Air Lines Inc.
# 2 2013     1   1    5  N24211      UA  United Air Lines Inc.
# 3 2013     1   1    5  N619AA      AA American Airlines Inc.
# 4 2013     1   1    5  N804JB      B6        JetBlue Airways
# 5 2013     1   1    6  N668DN      DL   Delta Air Lines Inc.
# 6 2013     1   1    5  N39463      UA  United Air Lines Inc.
```

#### âœ… match vs join ë¹„êµ

| ë°©ë²• | ì¥ì  | ë‹¨ì  | ê¶Œì¥ ì‚¬ìš© |
|------|------|------|-----------|
| **match** | ê°„ë‹¨í•œ 1:1 ë§¤ì¹­ì— ë¹ ë¦„ | ë³µì¡í•œ ì¡°ê±´ ì²˜ë¦¬ ì–´ë ¤ì›€ | ë‹¨ìˆœ ì½”ë“œ ë³€í™˜ |
| **join** | ìœ ì—°í•˜ê³  ëª…í™•í•œ ì˜ë„ | ì•½ê°„ì˜ ì˜¤ë²„í—¤ë“œ | ì¼ë°˜ì ì¸ í…Œì´ë¸” ê²°í•© |

## 6. ê³ ê¸‰ Join ê¸°ë²•

### Natural Join (ìë™ í‚¤ ë§¤ì¹­)

```r
# ê³µí†µ ë³€ìˆ˜ë¡œ ìë™ join
flights2 %>%
  left_join(weather) %>% head()
# Joining with `by = join_by(year, month, day, hour, origin)`
#   year month day hour origin dest tailnum carrier  temp  dewp humid wind_dir
# 1 2013     1   1    5    EWR  IAH  N14228      UA 39.02 28.04 64.43      260
# 2 2013     1   1    5    LGA  IAH  N24211      UA 39.92 24.98 54.81      250
# 3 2013     1   1    5    JFK  MIA  N619AA      AA 39.02 26.96 61.63      260
```

### ë‹¤ë¥¸ ì´ë¦„ì˜ í‚¤ë¡œ Join

```r
# dest(ëª©ì ì§€)ì™€ faa(ê³µí•­ì½”ë“œ) ë§¤ì¹­
flights2 %>%
  left_join(airports, c("dest" = "faa")) %>% head()
#   year month day hour origin dest tailnum carrier                         name      lat       lon
# 1 2013     1   1    5    EWR  IAH  N14228      UA George Bush Intercontinental 29.98443 -95.34144
# 2 2013     1   1    5    LGA  IAH  N24211      UA George Bush Intercontinental 29.98443 -95.34144
# 3 2013     1   1    5    JFK  MIA  N619AA      AA                   Miami Intl 25.79325 -80.29056
# 4 2013     1   1    5    JFK  BQN  N804JB      B6                         <NA>       NA        NA
# 5 2013     1   1    6    LGA  ATL  N668DN      DL    Hartsfield Jackson Atlanta 33.63672 -84.42807
# 6 2013     1   1    5    EWR  ORD  N39463      UA             Chicago Ohare Intl 41.97860 -87.90484
```

### ì¤‘ë³µ í‚¤ ì²˜ë¦¬

```r
# í•œìª½ í…Œì´ë¸”ì— ì¤‘ë³µ í‚¤ê°€ ìˆëŠ” ê²½ìš°
x <- tribble(
  ~key, ~val_x,
  1, "x1",
  2, "x2", 
  2, "x3",  # ì¤‘ë³µ í‚¤
  1, "x4"   # ì¤‘ë³µ í‚¤
)

y <- tribble(
  ~key, ~val_y,
  1, "y1",
  2, "y2"
)

left_join(x, y, by = "key")
#   key val_x val_y
# 1   1    x1    y1
# 2   2    x2    y2  
# 3   2    x3    y2  # x2, x3 ëª¨ë‘ y2ì™€ ë§¤ì¹­
# 4   1    x4    y1  # x1, x4 ëª¨ë‘ y1ê³¼ ë§¤ì¹­
```

#### âš ï¸ ì£¼ì˜ì‚¬í•­
ì¤‘ë³µ í‚¤ê°€ ìˆìœ¼ë©´ **ì¹´ë¥´í…Œì‹œì•ˆ ê³±**ì´ ë°œìƒí•˜ì—¬ í–‰ ìˆ˜ê°€ ê¸‰ê²©íˆ ì¦ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 7. Filtering Join

### semi_join - ë§¤ì¹­ë˜ëŠ” í–‰ë§Œ í•„í„°ë§

```r
# ìƒìœ„ 10ê°œ ëª©ì ì§€ ì¶”ì¶œ
top_dest <- flights %>%
  count(dest, sort = TRUE) %>%
  head(10)

top_dest
#   dest     n
# 1  ORD 17283
# 2  ATL 17215  
# 3  LAX 16174
# 4  BOS 15508
# 5  MCO 14082
# 6  CLT 14064
# 7  SFO 13331
# 8  FLL 12055
# 9  MIA 11728
# 10 DCA  9705

# ìƒìœ„ ëª©ì ì§€ë¡œ ê°€ëŠ” í•­ê³µí¸ë§Œ í•„í„°ë§
flights %>%
  semi_join(top_dest) %>% head()
# Joining with `by = join_by(dest)`
#   year month day dep_time sched_dep_time dep_delay arr_time sched_arr_time
# 1 2013     1   1      542            540         2      923            850
# 2 2013     1   1      554            600        -6      812            837
# 3 2013     1   1      554            558        -4      740            728
# 4 2013     1   1      555            600        -5      913            854
# 5 2013     1   1      557            600        -3      838            846
# 6 2013     1   1      558            600        -2      753            745
```

### filter vs semi_join ë¹„êµ

```r
# ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ëŠ” ë‘ ê°€ì§€ ë°©ë²•
# ë°©ë²• 1: filter ì‚¬ìš©
flights %>%
  filter(dest %in% top_dest$dest) %>% head()

# ë°©ë²• 2: semi_join ì‚¬ìš©  
flights %>%
  semi_join(top_dest) %>% head()
```

#### ğŸ’¡ semi_joinì˜ ì¥ì 
- **ì˜ë„ ëª…í™•**: "ë§¤ì¹­ë˜ëŠ” ê²ƒë§Œ í•„í„°ë§" ì˜ë„ê°€ ë¶„ëª…
- **ì„±ëŠ¥**: í° ë°ì´í„°ì…‹ì—ì„œ ë” íš¨ìœ¨ì 
- **ì•ˆì „ì„±**: ì‹¤ìˆ˜ë¡œ ë³€ìˆ˜ê°€ ì¶”ê°€ë˜ì§€ ì•ŠìŒ

### anti_join - ë§¤ì¹­ë˜ì§€ ì•ŠëŠ” í–‰ ì°¾ê¸°

```r
# planes í…Œì´ë¸”ì— ì—†ëŠ” í•­ê³µê¸°ë¥¼ ì‚¬ìš©í•˜ëŠ” í•­ê³µí¸
flights %>%
  anti_join(planes, by = "tailnum") %>%
  count(tailnum, sort = TRUE) %>% head()
#   tailnum     n
# 1    <NA>  2512  # í•­ê³µê¸° ë²ˆí˜¸ê°€ ëˆ„ë½ëœ ê²½ìš°
# 2 N725MQ   575   # ë°ì´í„°ë² ì´ìŠ¤ì— ì—†ëŠ” í•­ê³µê¸°
# 3 N722MQ   513
# 4 N723MQ   507  
# 5 N713MQ   483
# 6 N735MQ   396
```

#### ğŸ” anti_join í™œìš© ì‚¬ë¡€
- **ë°ì´í„° í’ˆì§ˆ ê²€ì‚¬**: ì°¸ì¡° ë¬´ê²°ì„± ìœ„ë°˜ ì°¾ê¸°
- **ëˆ„ë½ ë°ì´í„° íŒŒì•…**: ì–´ë–¤ ë°ì´í„°ê°€ ë¹ ì ¸ìˆëŠ”ì§€ í™•ì¸
- **ì˜ˆì™¸ ìƒí™© ë¶„ì„**: ì •ìƒì ì´ì§€ ì•Šì€ ì¼€ì´ìŠ¤ ë°œê²¬

## 8. ì§‘í•© ì—°ì‚°

### ê¸°ë³¸ ì§‘í•© ì—°ì‚°

```r
# ì˜ˆì œ ë°ì´í„°
df1 <- tribble(
  ~x, ~y,
  1,  1,
  2,  1
)

df2 <- tribble(
  ~x, ~y,
  1,  1,
  1,  2
)

# êµì§‘í•©
intersect(df1, df2)
#   x y
# 1 1 1

# í•©ì§‘í•©
union(df1, df2)  
#   x y
# 1 1 1
# 2 2 1
# 3 1 2

# ì°¨ì§‘í•© (df1ì—ëŠ” ìˆì§€ë§Œ df2ì—ëŠ” ì—†ëŠ” í–‰)
setdiff(df1, df2)
#   x y
# 1 2 1
```

### ì‹¤ë¬´ í™œìš© ì˜ˆì œ

```r
# ê³µí†µ ë³€ìˆ˜ëª… í™•ì¸
common_vars <- intersect(colnames(flights2), colnames(weather))
common_vars
# [1] "year"   "month"  "day"    "hour"   "origin"

# ì „ì²´ ë³€ìˆ˜ëª… í™•ì¸  
all_vars <- union(colnames(flights2), colnames(weather))
all_vars
# [1] "year"       "month"      "day"        "hour"       "origin"     
# [6] "dest"       "tailnum"    "carrier"    "temp"       "dewp"       
# [11] "humid"      "wind_dir"   "wind_speed" "wind_gust"  "precip"     
# [16] "pressure"   "visib"      "time_hour"
```

## 9. ì‹¤ì „ ë°ì´í„° ë¶„ì„ ì›Œí¬í”Œë¡œìš°

### ë‹¨ê³„ë³„ ë°ì´í„° ê²°í•© ì˜ˆì œ

```r
# 1ë‹¨ê³„: í•µì‹¬ ë³€ìˆ˜ ì„ íƒ
flights_clean <- flights %>%
  select(year:day, hour, origin, dest, tailnum, carrier, 
         dep_delay, arr_delay, distance, air_time)

# 2ë‹¨ê³„: í•­ê³µì‚¬ ì •ë³´ ì¶”ê°€
flights_with_airline <- flights_clean %>%
  left_join(airlines, by = "carrier")

# 3ë‹¨ê³„: ë‚ ì”¨ ì •ë³´ ì¶”ê°€
flights_with_weather <- flights_with_airline %>%
  left_join(weather, by = c("year", "month", "day", "hour", "origin"))

# 4ë‹¨ê³„: ê³µí•­ ì •ë³´ ì¶”ê°€ (ì¶œë°œì§€)
flights_with_origin <- flights_with_weather %>%
  left_join(airports, by = c("origin" = "faa"), suffix = c("", "_origin"))

# 5ë‹¨ê³„: ê³µí•­ ì •ë³´ ì¶”ê°€ (ëª©ì ì§€)  
flights_complete <- flights_with_origin %>%
  left_join(airports, by = c("dest" = "faa"), suffix = c("_origin", "_dest"))

# ê²°ê³¼ í™•ì¸
flights_complete %>%
  select(carrier, name, origin, name_origin, dest, name_dest, temp, wind_speed) %>%
  head()
```

### ë°ì´í„° í’ˆì§ˆ ê²€ì¦

```r
# ê²°í•© í›„ ë°ì´í„° ì†ì‹¤ í™•ì¸
cat("ì›ë³¸ í–‰ ìˆ˜:", nrow(flights_clean), "\n")
cat("ìµœì¢… í–‰ ìˆ˜:", nrow(flights_complete), "\n")
cat("ë§¤ì¹­ ì‹¤íŒ¨ìœ¨:", 
    round(100 * sum(is.na(flights_complete$temp)) / nrow(flights_complete), 2), "%\n")
```

## ğŸ’¡ ì‹¤ë¬´ í™œìš© íŒ

### âœ… Join ì„ íƒ ê°€ì´ë“œ

| ìƒí™© | ì¶”ì²œ Join | ì´ìœ  |
|------|-----------|------|
| **ë©”ì¸ í…Œì´ë¸”ì— ì •ë³´ ë³´ê°•** | `left_join` | ì›ë³¸ ë°ì´í„° ìœ ì§€ |
| **ì™„ì „ ë§¤ì¹­ë§Œ í•„ìš”** | `inner_join` | ê¹”ë”í•œ ê²°ê³¼ |
| **ëª¨ë“  ë°ì´í„° ë³´ì¡´** | `full_join` | ë°ì´í„° ì†ì‹¤ ë°©ì§€ |
| **ì¡°ê±´ë¶€ í•„í„°ë§** | `semi_join` | íš¨ìœ¨ì  í•„í„°ë§ |
| **ì˜ˆì™¸ ì¼€ì´ìŠ¤ ì°¾ê¸°** | `anti_join` | ë°ì´í„° í’ˆì§ˆ ê²€ì‚¬ |

### ğŸ“Š ì„±ëŠ¥ ìµœì í™”

1. **ì¸ë±ìŠ¤ í™œìš©**: í‚¤ ë³€ìˆ˜ì— ì¸ë±ìŠ¤ ì„¤ì •
2. **ë©”ëª¨ë¦¬ ê´€ë¦¬**: í•„ìš”í•œ ë³€ìˆ˜ë§Œ ì„ íƒ í›„ join
3. **ìˆœì„œ ìµœì í™”**: ì‘ì€ í…Œì´ë¸”ë¶€í„° join
4. **ì¤‘ë³µ ì œê±°**: join ì „ distinct() í™œìš©

### ğŸ¯ ë°ì´í„° í’ˆì§ˆ ê´€ë¦¬

```r
# Join ì „ ë°ì´í„° í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
check_data_quality <- function(df, key_vars) {
  cat("=== ë°ì´í„° í’ˆì§ˆ ì²´í¬ ===\n")
  cat("ì „ì²´ í–‰ ìˆ˜:", nrow(df), "\n")
  cat("í‚¤ ë³€ìˆ˜ ê²°ì¸¡ê°’:", sum(is.na(df[key_vars])), "\n")
  cat("í‚¤ ì¡°í•© ì¤‘ë³µ:", 
      nrow(df) - nrow(distinct(df, !!!syms(key_vars))), "\n")
  cat("ê³ ìœ  í‚¤ ì¡°í•©:", nrow(distinct(df, !!!syms(key_vars))), "\n")
}

# ì‚¬ìš© ì˜ˆ
check_data_quality(flights, c("year", "month", "day", "flight"))
```

## ë§ˆë¬´ë¦¬

**ë°ì´í„° ë³€í™˜ê³¼ ê²°í•©**ì€ ì‹¤ë¬´ ë°ì´í„° ë¶„ì„ì˜ í•µì‹¬ ìŠ¤í‚¬ì…ë‹ˆë‹¤. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ë‹¤ë£¬ ì£¼ìš” ë‚´ìš©ì„ ì •ë¦¬í•˜ë©´:

- **ê¸°ë³¸ Join**: inner, left, right, full joinì˜ ì ì ˆí•œ í™œìš©
- **ê³ ê¸‰ ê¸°ë²•**: ë‹¤ë¥¸ ì´ë¦„ì˜ í‚¤ ë§¤ì¹­, ì¤‘ë³µ í‚¤ ì²˜ë¦¬
- **Filtering Join**: semi_joinê³¼ anti_joinìœ¼ë¡œ íš¨ìœ¨ì  í•„í„°ë§
- **ì§‘í•© ì—°ì‚°**: ë°ì´í„° ë¹„êµì™€ í’ˆì§ˆ ê²€ì¦
- **ì‹¤ì „ ì›Œí¬í”Œë¡œìš°**: ë‹¨ê³„ë³„ ë°ì´í„° ê²°í•©ê³¼ ê²€ì¦

**ì‹¤ë¬´ì—ì„œëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ ê²°í•©í•˜ì—¬ í†µí•© ë¶„ì„ì„ ìˆ˜í–‰í•˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì…ë‹ˆë‹¤.** ë”°ë¼ì„œ ê° join ìœ í˜•ì˜ íŠ¹ì„±ì„ ì •í™•íˆ ì´í•´í•˜ê³ , ë°ì´í„° ì†ì‹¤ì´ë‚˜ ì¤‘ë³µì„ ë°©ì§€í•˜ë©´ì„œ ì•ˆì „í•˜ê²Œ ê²°í•©í•˜ëŠ” ê¸°ìˆ ì´ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

íŠ¹íˆ **ë°ì´í„° í’ˆì§ˆ ê²€ì¦**ì„ ìŠµê´€í™”í•˜ì—¬ join ì „í›„ì˜ í–‰ ìˆ˜ ë³€í™”, ê²°ì¸¡ê°’ ì¦ê°€, ì˜ˆìƒì¹˜ ëª»í•œ ì¤‘ë³µ ë“±ì„ ì²´í¬í•˜ë©´ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë¶„ì„ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!

ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” **ë¬¸ìì—´ ì²˜ë¦¬ì™€ ì •ê·œí‘œí˜„ì‹**ì— ëŒ€í•´ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤. ğŸ“Š